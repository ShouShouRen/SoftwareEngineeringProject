# **S3-選課系統測試文件：學生選課狀況查詢模組**

**文件版本：** V1.1  **文件日期：** 2025/12/08  **專案作者：** 張育鴻  B1243008  

---

## **1. 進入條件 (Preconditions)**

在執行測試案例之前，必須滿足以下條件：

1. **測試環境建置：**  
   系統已部署至測試伺服器 (Staging)，並可正常連接資料庫。

2. **基礎資料準備：**  
   * 至少一位教師測試帳號（含登入 Token）。  
   * 多位學生測試帳號。  
   * 多門已開課的課程，其中部分課程需具備學生選課記錄、部分則無學生選課。  
   * 課程達開課門檻的狀態需在資料庫中完整標記（例如：最少 20 人即可開課）。  

3. **系統狀態：**  
   * API 可正常回應查詢選課資料的請求。  
   * 前端頁面可正常載入「學生名單」與「下載清單」模組。

---

## **2. 測試方法 (Test Procedure)**

本測試採用 **黑箱測試 (Black-box Testing)**，以使用者操作的角度驗證功能。

1. **步驟執行：**  
   依照測試案例中的步驟逐步執行操作。  

2. **結果比對：**  
   觀察 UI 顯示與 API 回傳內容是否符合預期結果。  

3. **資料驗證：**  
   必要時查詢資料庫，確認學生名單與選課記錄是否正確。

4. **缺陷紀錄：**  
   若與預期不符，需記錄為 Bug 並標示嚴重程度。

---

## **3. 測試成功條件 (Success Criteria)**

1. **案例通過率達 100%。**  
2. **無 Critical 或 Major 等級缺陷。**  
3. **所有驗收標準（AC1 ~ AC5）皆有被測試案例覆蓋。**

---

## **4. 測試案例 (Test Cases)**
---

### **4.1 任務 1：查詢目前選課名單**

**測試目標：**  
驗證教師是否能成功查詢某課程的學生選課清單。

| 測試案例 ID | 對應需求 (Req. ID) | 案例描述 | 步驟 | 預期結果 |
| :---- | :---- | :---- | :---- | :---- |
| **TC-101** | **AC1** (基本查詢) | **成功查詢學生名單：課程已有學生選課** | 1. 教師登入系統。<br>2. 進入「選課狀況查詢」。<br>3. 選擇一門已有學生選課的課程。<br>4. 點擊「查詢」。 | 系統顯示學生列表（姓名、學號、系級），資料與資料庫一致。 |
| **TC-102** | **AC1** (空資料處理) | **課程目前無學生選課時的查詢行為** | 1. 教師登入。<br>2. 選擇一門尚無學生加選的課程。<br>3. 點擊「查詢」。 | 系統顯示「目前尚無學生選課」或空清單，不應出錯。 |
| **TC-103** | **AC1** (資料正確性) | **驗證查詢結果排序是否正確（依學號）** | 1. 選擇有多位學生的課程。<br>2. 點擊「查詢」。 | 名單應依「學號由小到大」排序顯示。 |
| **TC-104** | **AC1** (例外處理) | **課程不存在或已被刪除時的查詢行為** | 1. 手動修改 URL 或 API 傳送不存在的課程 ID。 | 系統回傳「課程不存在」並顯示錯誤提示，不崩潰。 |

---

---

### **4.2 任務 2：下載學生選課清單**

**測試目標：**  
確保教師能成功下載名單，格式正確且資料不錯誤。

| 測試案例 ID | 對應需求 (Req. ID) | 案例描述 | 步驟 | 預期結果 |
| :---- | :---- | :---- | :---- | :---- |
| **TC-201** | **AC2** (下載功能) | **成功下載選課學生名單** | 1. 教師查詢某門已有學生的課程。<br>2. 點擊「下載名單」。 | 成功下載 CSV / Excel 檔，內容包含學生姓名、學號、系級，與查詢畫面一致。 |
| **TC-202** | **AC2** (空檔案處理) | **無學生選課時下載名單** | 1. 查詢無學生的課程。<br>2. 點擊「下載」。 | 系統下載空白檔案或顯示「無資料可下載」，不得產生錯誤。 |
| **TC-203** | **AC2** (資料正確性) | **檢查匯出資料格式是否正確** | 1. 下載有學生名單的課程。<br>2. 開啟檔案驗證欄位格式。 | 應包含標題列、內容列，無亂碼、無缺漏欄位。 |
| **TC-204** | **AC2** (權限控制) | **未登入教師嘗試下載資料** | 1. 登出系統。<br>2. 嘗試直接下載名單 API。 | 系統應拒絕並回傳「請先登入」。 |

---

---

### **4.3 任務 3：接收課程達開課門檻通知**

**測試目標：**  
當課程選課人數達到設定門檻（例如 20 人），教師應收到通知。

| 測試案例 ID | 對應需求 (Req. ID) | 案例描述 | 步驟 | 預期結果 |
| :---- | :---- | :---- | :---- | :---- |
| **TC-301** | **AC3** (通知) | **課程首次達到門檻時發送通知** | 1. 課程目前選課人數 19。<br>2. 新增 1 位學生選課，使其從 19 → 20。 | 教師收到通知：「您的課程 X 已達開課門檻」。 |
| **TC-302** | **AC3** (避免重複通知) | **課程超過門檻後不應重複通知** | 1. 課程已達 20 人。<br>2. 再新增 1 位學生（21 人）。 | 系統不應再次發送「達門檻」通知。 |
| **TC-303** | **AC3** (多渠道通知) | **通知是否可從多種方式收到（UI / Email）** | 1. 達門檻後登入系統。<br>2. 檢查通知中心。<br>3. 檢查 Email。 | 不論 UI 或 Email，均會收到通知。 |
| **TC-304** | **AC3** (例外處理) | **通知伺服器連線異常時的處理** | 1. 模擬通知服務中斷。<br>2. 達到門檻。 | 系統在 Log 記錄錯誤，並於通知恢復後補送通知。 |

---




