# **S2-選課系統測試文件：教室自動化排程**

**文件版本：** V1.0
**文件日期：** 2025/12/04
**專案作者：** 凌彣碩, B1243003

## **1\. 進入條件 (Preconditions)**

在執行測試案例之前，必須滿足以下條件：

1. **測試環境建置:** 系統程式碼已部署至測試伺服器 (Staging Environment)，且資料庫已連接。  
2. **基礎資料準備:** 資料庫中需預先建立測試用的基礎資料，包含：  
   * 數間不同容量的教室（例如：E-201 容量50人, A-101 容量80人）。  
   * 多位測試用的教師帳號與登入 Token。  
   * 部分已排定的課程資料（用於測試衝突情境）。  
3. **系統狀態:** 系統處於可運行狀態，API 服務正常回應，前端頁面可正常載入。

## **2\. 測試方法 (Test Procedure)**

本測試採用 **黑箱測試 (Black-box Testing)** 方法，測試人員無需了解程式碼內部邏輯，僅需透過使用者介面 (UI) 與 API 進行驗證。

1. **步驟執行:** 依照測試案例中的「步驟」逐一操作系統。  
2. **結果比對:** 觀察系統回應與畫面顯示，比對是否符合「預期結果」。  
3. **資料驗證:** 必要時需查詢後端資料庫，確認資料寫入與更新的正確性（如：確認教室 ID 是否正確寫入課程資料表）。  
4. **缺陷紀錄:** 若實際結果與預期不符，需記錄為 Bug，並標註嚴重程度。

## **3\. 測試成功條件 (Success Criteria)**

本次測試活動視為成功的標準如下：

1. **案例通過率:** 所有定義的測試案例 (Total Test Cases) 通過率需達 **100%**。  
2. **無重大缺陷:** 測試過程中未發現 **Severity 1 (Critical)** 或 **Severity 2 (Major)** 等級的缺陷。  
3. **需求覆蓋:** 測試案例必須覆蓋需求規格書中定義的所有驗收標準 (AC1 \~ AC5)。

## **4\. 測試案例 (Test Cases)**

以下測試案例依據功能模組分類，並對應至需求規格書中的驗收標準 (Acceptance Criteria)。

### **4.1 針對任務 1：實作教室自動排程演算法**

**測試目標:** 驗證後端排程邏輯是否能正確分配教室，並處理異常狀況。

| 測試案例 ID | 對應需求 (Req. ID) | 案例描述 | 步驟 | 預期結果 |
| :---- | :---- | :---- | :---- | :---- |
| **TC-001** | **AC2** (容量) **AC3** (重複) | **成功排程**：測試系統在有可用教室時，是否能成功分配。 | 1\. 新增一門課程，時間設定為「週一上午 10:00-12:00」，修課人數為 40 人。 2\. 確認系統中至少有一間容量大於等於 40 人的教室在該時段是可用的。 3\. 執行自動排程功能。 | 系統成功為此課程分配一間容量足夠且在該時段可用的教室。 |
| **TC-002** | **AC1** (時間衝突) | **時間衝突**：當所有合適的教室在該時段都已被預訂時，測試系統的反應。 | 1\. 新增一門課程，時間設定為「週三下午 2:00-4:00」。 2\. 手動將所有容量足夠的教室在該時段都安排給其他課程。 3\. 對新課程執行自動排程。 | 系統回報「此時段已無可用教室」，且該課程的教室欄位顯示為「待安排」。 |
| **TC-003** | **AC2** (容量) | **容量不符**：當有空閒教室但容量均小於修課人數時，測試系統的反應。 | 1\. 新增一門課程，修課人數設定為 80 人。 2\. 確認在該課程時段，所有可用的教室最大容量均為 50 人。 3\. 執行自動排程。 | 系統回報「找不到容量足夠的教室」，且該課程的教室欄位顯示為「待安排」。 |
| **TC-004** | **AC2** (容量) | **邊界條件 \- 容量剛好**：測試當教室容量與修課人數完全相等時，是否能成功分配。 | 1\. 新增一門課程，修課人數設定為 60 人。 2\. 確認系統中有一間教室在該時段可用，且其容量正好為 60 人。 3\. 執行自動排程。 | 系統成功分配該容量為 60 人的教室。 |

### **4.2 針對任務 2：顯示已分配的教室與課程時間**

**測試目標:** 驗證前端 UI 是否能正確從資料庫讀取並顯示排程資訊。

| 測試案例 ID | 對應需求 (Req. ID) | 案例描述 | 步驟 | 預期結果 |
| :---- | :---- | :---- | :---- | :---- |
| **TC-005** | **AC4** (顯示資訊) | **驗證資訊正確性**：檢查課表頁面顯示的資訊是否與後端資料一致。 | 1\. 為一位教師安排一門課程「資料結構」，時間在「週二上午 9:00-11:00」，系統分配教室為「E-201」(容量: 50)。 2\. 以該教師身份登入系統。 3\. 進入「我的課表」頁面。 | 頁面上清楚顯示「資料結構」課程，其時間為「週二上午 9:00-11:00」，教室為「E-201 (50人)」。 |
| **TC-006** | **AC4** (顯示資訊) | **多門課程顯示**：測試當教師有多門課程時，是否能完整且正確地顯示。 | 1\. 為同一位教師安排三門不同的課程，並讓系統為它們分配好教室。 2\. 以該教師身份登入並進入「我的課表」。 | 頁面上完整列出三門課程，且各自的時間與教室資訊都正確無誤。 |
| **TC-007** | **AC4** (顯示資訊) | **未排定教室的顯示**：測試當課程尚未被分配教室時，介面的呈現方式。 | 1\. 為一位教師新增一門課程，但因故未能成功分配教室。 2\. 以該教師身份登入並查看課表。 | 該課程依然會顯示在課表上，但教室欄位會顯示「待安排」或類似的提示文字。 |

### **4.3 針對任務 3：開發手動修改教室排程功能**

**測試目標:** 驗證教師手動更換教室的流程、防呆機制與資料更新。

| 測試案例 ID | 對應需求 (Req. ID) | 案例描述 | 步驟 | 預期結果 |
| :---- | :---- | :---- | :---- | :---- |
| **TC-008** | **AC5** (手動更換) | **成功更換教室**：測試教師是否能成功將課程更換至另一間可用的教室。 | 1\. 登入教師帳號，進入課表頁面。 2\. 對一門已排定教室的課程點擊「更換教室」。 3\. 從跳出的可用教室列表中，選擇另一間教室。 4\. 確認更換。 | 系統提示「教室已成功更換」。課表頁面上的教室資訊即時更新為教師新選擇的教室。 |
| **TC-009** | **AC1, AC3** (避免衝突) | **不可選擇衝突的教室**：確保教師無法選擇在同一時段已被其他課程使用的教室。 | 1\. 假設「週五下午 2:00-4:00」時段，教室 A 已被課程甲使用。 2\. 教師 B 想將自己的課程乙（同一時段）更換教室。 3\. 點擊「更換教室」。 | 在可用的教室列表中，不應出現「教室 A」。 |
| **TC-010** | **AC2** (容量) | **不可選擇容量不足的教室**：確保教師無法將課程換到一個容量不足的教室。 | 1\. 一門課程的修課人數為 70 人，原先被安排在容量 80 人的教室。 2\. 在同一時段，有一間容量為 40 人的空閒教室。 3\. 教師嘗試為這門 70 人的課程更換教室。 | 在可用的教室列表中，不應顯示那間容量為 40 人的教室。 |
| **TC-011** | **AC5** (操作流程) | **取消更換操作**：測試使用者是否能中途放棄更換教室的操作。 | 1\. 登入教師帳號，對一門課程點擊「更換教室」。 2\. 在選擇新教室的介面中，點擊「取消」或關閉視窗。 3\. 重新檢視課表。 | 課程的教室分配維持不變，和操作前一樣。 |

