# **選課系統需求規格書：登入系統身分驗證**

**文件版本：** V1.0
**文件日期：** 2025/12/07
**專案作者：** 施穎禾, B1243021

## **1\. 系統說明 (System Description)**

### **1.1 系統目的與目標**

本模組旨在提供一個安全且可靠的機制，允許學生透過其學號與密碼登入選課系統。主要目標是進行身份驗證，以確保選課操作的安全性。

### **1.2 系統範圍**

本系統範圍涵蓋「學生登入」相關功能，包括：

* 接受學號與密碼輸入。
* 執行帳號密碼的正確性驗證。
* 處理登入成功後的授權導向。
* 處理登入失敗時的錯誤訊息提示與安全防護。

### **1.3 使用者類型與特徵**

* **學生 (Student):** 需使用學號與密碼進行登入。期望快速、安全地進入選課系統。
* **系統管理員 (Admin):** 負責維護學生的帳號與密碼資料（間接使用者，體現在安全性需求）。

## **2\. 初步系統架構 (High-Level System Architecture)**

### **2.1 系統元件概覽**

#### **2.1.1 呈現層 (Presentation Layer)**

* **登入介面:** 提供學號與密碼的輸入欄位，以及「登入」按鈕。
* **錯誤訊息顯示:** 能夠清晰且明確地顯示驗證失敗訊息。
* **技術支援:** 需相容於主流瀏覽器。

#### **2.1.2 應用/邏輯層 (Application/Logic Layer)**

* **身份驗證模組 (Authentication Module):** 接收學號與密碼，並與資料層進行比對驗證。
* **授權會話管理 (Session/Token Management):** 驗證成功後，建立有效的授權會話 (session/token) 並維持登入狀態。
* **安全性檢查:** 處理如 SQL 注入防範、連續錯誤登入鎖定等安全邏輯。

#### **2.1.3 資料層 (Data Layer)**

* **資料庫 (Database):** 儲存學生帳號（學號）與加密後的密碼。
* **安全日誌:** 記錄所有登入操作（成功與失敗），供安全稽核使用。

## **3\. 功能需求 (Functional Requirements)**

本章節詳述系統應具備的功能邏輯與使用者故事。

### **3.1 使用者故事 (User Story)**

**故事標題:** 登入系統身分驗證

* **身為 (As a):** 一位學生
* **我希望 (I want to):** 能登入系統進行身份驗證
* **以便 (So that):** 確保選課安全性

#### **驗收標準 (Acceptance Criteria)**

* **AC1:** 系統必須使用學生**學號與密碼**進行登入驗證。
* **AC2:** 驗證成功後，系統必須正確**導入選課頁面**。
* **AC3:** 驗證失敗時，系統必須**顯示明確錯誤訊息**且**不得導入選課頁面**。
* **AC4:** 系統必須在登入成功後，**建立並維持有效的授權會話**（session/token）。
* **AC5:** 系統必須具有**防止惡意攻擊**（如 SQL 注入）及**登入嘗試保護**（如帳號鎖定）的機制。

### **3.2 任務功能描述 (Task Descriptions)**

#### **任務 1：輸入學號與密碼登入選課系統 (T1)**

* **功能描述:** 處理學生在登入頁面輸入學號與密碼，並送出認證請求的流程。需處理前端表單驗證（必填欄位檢查）和後端驗證邏輯。
* **前置條件:** 學生已註冊並擁有學號與密碼；登入頁面可存取。
* **後置條件:** 系統收到登入請求並回應驗證結果。
* **負責人:** 施穎禾
* **產出:** 登入 API 端點功能。

#### **任務 2：身份驗證成功後進入選課頁面 (T2)**

* **功能描述:** 當身份驗證模組回傳成功時，系統將學生導向選課頁面 (`/course-selection`)，並建立授權憑證，確保後續操作的登入狀態與安全性。
* **前置條件:** 驗證服務可用且帳號密碼驗證成功。
* **後置條件:** 學生可在選課頁面進行選課操作，且系統維持登入狀態。
* **負責人:** 施穎禾
* **產出:** 頁面導向與 Session/Token 建立功能。

## **4\. 非功能需求 (Non-Functional Requirements)**

本章節針對「登入系統身分驗證」Story 的特性，定義必要的系統品質與限制。

### **4.1 安全性與授權 (Security & Authorization)**

針對 Story 需求：「確保選課安全性」

* 4.1.1 密碼儲存標準  
    學生的密碼在資料庫中必須以不可逆的加密雜湊（如 bcrypt 或 Argon2）儲存，嚴禁以明文或簡單加密方式儲存。
* 4.1.2 錯誤登入保護 (AC5)  
    系統必須在短時間內連續失敗嘗試次數達到上限後（例如 5 次），暫時鎖定該帳號或要求額外驗證（如 CAPTCHA），以防暴力破解攻擊。
* 4.1.3 資訊揭露限制  
    無論登入成功或失敗，系統的回應訊息均不得揭露伺服器版本、系統架構或任何有助於攻擊的內部錯誤資訊。錯誤訊息應統一且模糊（例如：「學號或密碼錯誤」）。
* 4.1.4 Session 安全  
    建立的 Session 或 Token 必須設置合理的過期時間，並採用安全的傳輸機制（如設置 `HttpOnly` 和 `Secure` 屬性的 Cookie）。

### **4.2 效能與回應時間 (Performance & Response Time)**

針對 Story 需求：「登入系統」

* 4.2.1 驗證回應時間  
    從使用者按下登入按鈕到收到驗證結果（成功導向或失敗提示）的時間，在正常負載下不應超過 **1.5 秒**。
* 4.2.2 高併發處理能力  
    系統需能處理在選課高峰期，同時數千名學生在 **5 秒內** 嘗試登入的請求，確保登入服務不會中斷或顯著變慢。

### **4.3 可用性與使用者體驗 (Usability)**

針對 Story 需求：「顯示明確錯誤訊息」

* 4.3.1 表單驗證提示 (AC3)  
    若使用者未填寫必填欄位，前端應即時顯示提示訊息，阻止表單送出，以優化使用者體驗。
* 4.3.2 登入狀態提示 (AC4)  
    登入成功後進入選課頁面時，頁面應清楚顯示使用者的**學號與姓名**等資訊，以確認目前的登入身份。